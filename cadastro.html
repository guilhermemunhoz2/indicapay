<!-- Firebase SDK e configuração -->
<script type="module">
  import { auth, createUserWithEmailAndPassword, updateProfile } from "./firebase-config.js";

  document.getElementById("btnCadastrar").addEventListener("click", () => {
    const nome = document.getElementById("nome").value;
    const email = document.getElementById("email").value;
    const senha = document.getElementById("senha").value;

    if (nome === "" || email === "" || senha === "") {
      alert("Por favor, preencha todos os campos!");
      return;
    }

    createUserWithEmailAndPassword(auth, email, senha)
      .then((userCredential) => {
        // Atualiza o displayName no perfil do usuário
        return updateProfile(userCredential.user, {
          displayName: nome
        });
      })
      .then(() => {
        alert("Cadastro realizado com sucesso!");
        window.location.href = "login.html";
      })
      .catch((error) => {
        alert("Erro ao cadastrar: " + error.message);
      });
  });
</script>
